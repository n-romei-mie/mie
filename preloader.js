function initLogoRevealLoader(){gsap.registerPlugin(CustomEase,SplitText),CustomEase.create("loader","0.65, 0.01, 0.05, 0.99"),CustomEase.create("lamellaOut","0.35, 0.00, 0.10, 1.00");let e=document.querySelector("[data-load-wrap]");if(!e)return;let t=e.querySelector("[data-load-container]"),a=e.querySelector("[data-load-bg]"),o=e.querySelector("[data-load-progress]"),r=e.querySelector("[data-load-logo]"),l=Array.from(e.querySelectorAll("[data-load-text]")),n=a?a.querySelector("[data-load-grid]"):null,$=document.querySelector(".hero__heading"),d=document.querySelector(".hero__heading .h-h1.is--huge"),s=document.querySelector(".single__nav"),i=document.querySelector(".bottom__indicator"),u=document.querySelector(".grid"),c=u?Array.from(u.querySelectorAll(".column__grid")):[],h=document.querySelector("[data-counter]"),y=document.querySelector(".loader__counter"),p=document.querySelector("[data-indicator]");if(a&&gsap.set(a,{clearProps:"transform,opacity"}),n&&!n.querySelector("[data-load-cell]")){let g=document.createDocumentFragment();for(let _=0;_<48;_++){let f=document.createElement("div");f.className="loader__cell",f.setAttribute("data-load-cell",""),g.appendChild(f)}n.appendChild(g)}let m=Array.from(e.querySelectorAll("[data-load-reset]:not([data-load-text])"));$&&gsap.set($,{autoAlpha:0,filter:"blur(16px)",y:12}),s&&gsap.set(s,{autoAlpha:0,y:-24}),i&&gsap.set(i,{autoAlpha:0,y:24}),h&&gsap.set(h,{textContent:"000"}),c.length&&gsap.set(c,{transformOrigin:"center center",scaleY:0,willChange:"transform"});let A=null;d&&(A=new SplitText(d,{type:"lines,words",linesClass:"is-line"}),gsap.set(A.lines,{overflow:"hidden"}),gsap.set(A.words,{display:"inline-block",yPercent:120,autoAlpha:0}));let S=gsap.timeline({defaults:{ease:"loader",duration:3}}).set(e,{display:"block"}).addLabel("startLoad").to(o,{scaleX:1,duration:3},"startLoad").to(r,{clipPath:"inset(0% 0% 0% 0%)"},"<").to(t,{autoAlpha:0,duration:.5}).to(o,{scaleX:0,transformOrigin:"right center",duration:.5},"<").add("hideContent","<");m.length&&S.set(m,{autoAlpha:1},0);let q=null;if(h){let C={val:0};S.to(C,{val:100,duration:3,ease:"none",onUpdate(){let e=Math.floor(C.val);h.textContent=e.toString().padStart(3,"0")}},"startLoad"),y&&gsap.fromTo(y,{y:"100%"},{y:"0%",duration:.4,ease:"power2.out",delay:.2})}if(p){let w=getComputedStyle(p),b=(()=>{let e=w.backgroundColor;return/rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)/i.test(e)||"transparent"===e?w.color||"#00FF85":e})();gsap.set(p,{backgroundColor:"transparent"}),q=gsap.to(p,{backgroundColor:b,duration:.35,repeat:-1,yoyo:!0,ease:"power1.inOut"}),S.add(()=>{q&&q.kill(),gsap.set(p,{backgroundColor:b})},"hideContent-=0.01")}if(l.length>=2){let L=new SplitText(l[0],{type:"lines,chars",mask:"lines"}),P=new SplitText(l[1],{type:"lines,chars",mask:"lines"});gsap.set([L.chars,P.chars],{autoAlpha:0,yPercent:125}),gsap.set(l,{autoAlpha:1}),S.to(L.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},0).to(L.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},">+=0.4").to(P.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},"<").to(P.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},"hideContent-=0.5")}let k="hideContent+="+.55,v="hideContent+="+.8800000000000001;if(n){let O=Array.from(n.querySelectorAll("[data-load-cell]"));gsap.set(O,{transformOrigin:"top center",scaleY:1});let x=gsap.utils.shuffle(O);if($&&A&&(S.to($,{autoAlpha:1,filter:"blur(0px)",y:0,duration:.8,ease:"power2.out"},v),S.to(A.words,{yPercent:0,autoAlpha:1,duration:1,ease:"power3.out",stagger:.08},v)),s&&S.to(s,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},v),i&&S.to(i,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},v),S.add(()=>{x.forEach(e=>{gsap.to(e,{scaleY:0,duration:.6,ease:"lamellaOut",delay:.5*Math.random()})})},"hideContent"),c.length){let E=gsap.utils.shuffle(c);S.add(()=>{E.forEach(e=>{gsap.to(e,{scaleY:1,duration:.8,ease:"power3.out",delay:.45*Math.random()})})},k)}S.add(()=>{gsap.delayedCall(1.4000000000000001,()=>{gsap.set(e,{display:"none"})})})}}document.addEventListener("DOMContentLoaded",()=>{initLogoRevealLoader()});
