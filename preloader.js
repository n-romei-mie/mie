function initLogoRevealLoader(){gsap.registerPlugin(CustomEase,SplitText),CustomEase.create("loader","0.65, 0.01, 0.05, 0.99"),CustomEase.create("lamellaOut","0.35, 0.00, 0.10, 1.00");let e=document.querySelector("[data-load-wrap]");if(!e)return;let t=e.querySelector("[data-load-container]"),a=e.querySelector("[data-load-bg]"),o=e.querySelector("[data-load-progress]"),r=e.querySelector("[data-load-logo]"),l=Array.from(e.querySelectorAll("[data-load-text]")),n=a?a.querySelector("[data-load-grid]"):null,$=document.querySelector(".hero__heading"),d=document.querySelector(".hero__heading .h-h1.is--huge"),s=document.querySelector(".hero__unicorn"),i=document.querySelector(".single__nav"),u=document.querySelector(".bottom__indicator"),c=document.querySelector(".grid"),h=c?Array.from(c.querySelectorAll(".column__grid")):[],y=document.querySelector("[data-counter]"),p=document.querySelector(".loader__counter"),g=document.querySelector("[data-indicator]");if(a&&gsap.set(a,{clearProps:"transform,opacity"}),n&&!n.querySelector("[data-load-cell]")){let _=document.createDocumentFragment();for(let f=0;f<48;f++){let m=document.createElement("div");m.className="loader__cell",m.setAttribute("data-load-cell",""),_.appendChild(m)}n.appendChild(_)}let S=Array.from(e.querySelectorAll("[data-load-reset]:not([data-load-text])"));$&&gsap.set($,{autoAlpha:0,filter:"blur(16px)",y:12}),s&&gsap.set(s,{y:100}),i&&gsap.set(i,{autoAlpha:0,y:-24}),u&&gsap.set(u,{autoAlpha:0,y:24}),y&&gsap.set(y,{textContent:"000"}),h.length&&gsap.set(h,{transformOrigin:"center center",scaleY:0,willChange:"transform"});let A=null;d&&(A=new SplitText(d,{type:"lines,words",linesClass:"is-line"}),gsap.set(A.lines,{overflow:"hidden"}),gsap.set(A.words,{display:"inline-block",yPercent:120,autoAlpha:0}));let q=gsap.timeline({defaults:{ease:"loader",duration:3}}).set(e,{display:"block"}).addLabel("startLoad").to(o,{scaleX:1,duration:3},"startLoad").to(r,{clipPath:"inset(0% 0% 0% 0%)"},"<").to(t,{autoAlpha:0,duration:.5}).to(o,{scaleX:0,transformOrigin:"right center",duration:.5},"<").add("hideContent","<");S.length&&q.set(S,{autoAlpha:1},0);let C=null;if(y){let w={val:0};q.to(w,{val:100,duration:3,ease:"none",onUpdate(){let e=Math.floor(w.val);y.textContent=e.toString().padStart(3,"0")}},"startLoad"),p&&gsap.fromTo(p,{y:"100%"},{y:"0%",duration:.4,ease:"power2.out",delay:.2})}if(g){let b=getComputedStyle(g),L=(()=>{let e=b.backgroundColor;return/rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)/i.test(e)||"transparent"===e?b.color||"#00FF85":e})();gsap.set(g,{backgroundColor:"transparent"}),C=gsap.to(g,{backgroundColor:L,duration:.35,repeat:-1,yoyo:!0,ease:"power1.inOut"}),q.add(()=>{C&&C.kill(),gsap.set(g,{backgroundColor:L})},"hideContent-=0.01")}if(l.length>=2){let P=new SplitText(l[0],{type:"lines,chars",mask:"lines"}),k=new SplitText(l[1],{type:"lines,chars",mask:"lines"});gsap.set([P.chars,k.chars],{autoAlpha:0,yPercent:125}),gsap.set(l,{autoAlpha:1}),q.to(P.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},0).to(P.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},">+=0.4").to(k.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},"<").to(k.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},"hideContent-=0.5")}let v="hideContent+="+.55,O="hideContent+="+.8800000000000001;if(n){let x=Array.from(n.querySelectorAll("[data-load-cell]"));gsap.set(x,{transformOrigin:"top center",scaleY:1});let E=gsap.utils.shuffle(x);if(s&&q.to(s,{y:0,duration:1.6,ease:"loader"},"hideContent-=0.25"),$&&A&&(q.to($,{autoAlpha:1,filter:"blur(0px)",y:0,duration:.8,ease:"power2.out"},O),q.to(A.words,{yPercent:0,autoAlpha:1,duration:1,ease:"power3.out",stagger:.08},O)),i&&q.to(i,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},O),u&&q.to(u,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},O),q.add(()=>{E.forEach(e=>{gsap.to(e,{scaleY:0,duration:.6,ease:"lamellaOut",delay:.5*Math.random()})})},"hideContent"),h.length){let Y=gsap.utils.shuffle(h);q.add(()=>{Y.forEach(e=>{gsap.to(e,{scaleY:1,duration:.8,ease:"power3.out",delay:.45*Math.random()})})},v)}q.add(()=>{gsap.delayedCall(1.4000000000000001,()=>{gsap.set(e,{display:"none"})})})}}document.addEventListener("DOMContentLoaded",()=>{initLogoRevealLoader()});
