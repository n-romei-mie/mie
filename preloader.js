<script>
function initLogoRevealLoader(){gsap.registerPlugin(CustomEase,SplitText),CustomEase.create("loader","0.65, 0.01, 0.05, 0.99"),CustomEase.create("lamellaOut","0.35, 0.00, 0.10, 1.00");let e=document.querySelector("[data-load-wrap]");if(!e)return;let t=e.querySelector("[data-load-container]"),a=e.querySelector("[data-load-bg]"),o=e.querySelector("[data-load-progress]"),r=e.querySelector("[data-load-logo]"),l=e.querySelector("[data-load-claim]"),n=Array.from(e.querySelectorAll("[data-load-text]")),$=a?a.querySelector("[data-load-grid]"):null,d=document.querySelector(".hero__heading"),s=document.querySelector(".hero__heading .h-h1.is--huge"),i=document.querySelector(".hero__unicorn"),u=document.querySelector(".single__nav"),c=document.querySelector(".bottom__indicator"),h=document.querySelector(".grid"),y=h?Array.from(h.querySelectorAll(".column__grid")):[],p=document.querySelector("[data-counter]"),g=document.querySelector(".loader__counter"),_=document.querySelector("[data-indicator]");if(a&&gsap.set(a,{clearProps:"transform,opacity"}),$&&!$.querySelector("[data-load-cell]")){let f=document.createDocumentFragment();for(let m=0;m<48;m++){let S=document.createElement("div");S.className="loader__cell",S.setAttribute("data-load-cell",""),f.appendChild(S)}$.appendChild(f)}let q=Array.from(e.querySelectorAll("[data-load-reset]:not([data-load-text])"));d&&gsap.set(d,{autoAlpha:0,filter:"blur(16px)",y:12}),i&&gsap.set(i,{y:40,scale:1.4,transformOrigin:"center center"}),u&&gsap.set(u,{autoAlpha:0,y:-24}),c&&gsap.set(c,{autoAlpha:0,y:24}),p&&gsap.set(p,{textContent:"000"}),y.length&&gsap.set(y,{transformOrigin:"center center",scaleY:0,willChange:"transform"});let A=null;s&&(A=new SplitText(s,{type:"lines,words",linesClass:"is-line"}),gsap.set(A.lines,{overflow:"hidden"}),gsap.set(A.words,{display:"inline-block",yPercent:120,autoAlpha:0}));let C=gsap.timeline({defaults:{ease:"loader"}}).set(e,{display:"block"}).addLabel("startLoad").to(o,{scaleX:1,duration:3},"startLoad").to(t,{autoAlpha:0,duration:.5}).to(o,{scaleX:0,transformOrigin:"right center",duration:.5},"<").add("hideContent","<");q.length&&C.set(q,{autoAlpha:1},0),r&&C.to(r,{clipPath:"inset(0% 0% 0% 0%)",duration:3},"startLoad"),l&&C.to(l,{clipPath:"inset(0% 0% 0% 0%)",duration:3},"startLoad");let w=null;if(p){let b={val:0};C.to(b,{val:100,duration:3,ease:"none",onUpdate(){let e=Math.floor(b.val);p.textContent=e.toString().padStart(3,"0")}},"startLoad"),g&&gsap.fromTo(g,{y:"100%"},{y:"0%",duration:.4,ease:"power2.out",delay:.2})}if(_){let L=getComputedStyle(_),P=(()=>{let e=L.backgroundColor;return/rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)/i.test(e)||"transparent"===e?L.color||"#00FF85":e})();gsap.set(_,{backgroundColor:"transparent"}),w=gsap.to(_,{backgroundColor:P,duration:.35,repeat:-1,yoyo:!0,ease:"power1.inOut"}),C.add(()=>{w&&w.kill(),gsap.set(_,{backgroundColor:P})},"hideContent-=0.01")}if(n.length>=2){let k=new SplitText(n[0],{type:"lines,chars",mask:"lines"}),v=new SplitText(n[1],{type:"lines,chars",mask:"lines"});gsap.set([k.chars,v.chars],{autoAlpha:0,yPercent:125}),gsap.set(n,{autoAlpha:1}),C.to(k.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},0).to(k.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},">+=0.4").to(v.chars,{autoAlpha:1,yPercent:0,duration:.6,stagger:{each:.02}},"<").to(v.chars,{autoAlpha:0,yPercent:-125,duration:.4,stagger:{each:.02}},"hideContent-=0.5")}let O="hideContent+="+.55,x="hideContent+="+.8800000000000001;if($){let E=Array.from($.querySelectorAll("[data-load-cell]"));gsap.set(E,{transformOrigin:"top center",scaleY:1,clearProps:"opacity,transform"});let Y=gsap.utils.shuffle(E);if(i&&C.to(i,{y:0,scale:1,duration:1.4,ease:"loader"},"hideContent"),d&&A&&(C.to(d,{autoAlpha:1,filter:"blur(0px)",y:0,duration:.8,ease:"power2.out"},x),C.to(A.words,{yPercent:0,autoAlpha:1,duration:1,ease:"power3.out",stagger:.08},x)),u&&C.to(u,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},x),c&&C.to(c,{autoAlpha:1,y:0,duration:.7,ease:"power2.out"},x),C.add(()=>{Y.forEach(e=>{gsap.to(e,{scaleY:0,duration:.6,ease:"lamellaOut",delay:.5*Math.random()})})},"hideContent"),y.length){let F=gsap.utils.shuffle(y);C.add(()=>{F.forEach(e=>{gsap.to(e,{scaleY:1,duration:.8,ease:"power3.out",delay:.45*Math.random()})})},O)}C.add(()=>{gsap.delayedCall(1.4000000000000001,()=>gsap.set(e,{display:"none"}))})}}document.addEventListener("DOMContentLoaded",initLogoRevealLoader);
</script>
