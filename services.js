window.addEventListener("DOMContentLoaded",()=>{window.gsap&&window.ScrollTrigger&&gsap.registerPlugin(ScrollTrigger),$(".scroll_wrap").each(function(){let t=$(this),o=t.find(".scroll_trigger"),e=t.find(".scroll_item");o.each(function(t){let o=$(this),r=o.find(".scroll_background"),l=e.eq(t);0===t?gsap.timeline({scrollTrigger:{trigger:o[0],start:"top top",end:"bottom top",scrub:!0},defaults:{ease:"none"}}).fromTo(l,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)"}):t===e.length-1?gsap.timeline({scrollTrigger:{trigger:o[0],start:"top bottom",end:"bottom bottom",scrub:!0},defaults:{ease:"none"}}).fromTo(l,{clipPath:"polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}):gsap.timeline({scrollTrigger:{trigger:o[0],start:"top bottom",end:"bottom top",scrub:!0},defaults:{ease:"none"}}).fromTo(l,{clipPath:"polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"},{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"}).to(l,{clipPath:"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)"}),gsap.timeline({scrollTrigger:{trigger:o[0],start:"top top",end:"bottom top",scrub:!0},defaults:{ease:"none"}}).to(r,{yPercent:50})})}),window.ScrollTrigger&&ScrollTrigger.refresh()});
